<?xml version="1.0"?>
<!-- This file is part of import_csv module for Tryton.
The COPYRIGHT file at the top level of this repository contains the full
copyright notices and license terms. -->
<tryton>
    <data>
        <menuitem
            parent="ir.menu_administration"
            name="Import CSV"
            id="main_menu_import_csv"/>

        <!-- groups -->
        <record model="res.group" id="group_import_csv_user">
            <field name="name">Import CSV User</field>
        </record>
        <record model="res.user-res.group" id="user_admin_group_import_csv_user">
            <field name="user" ref="res.user_admin"/>
            <field name="group" ref="group_import_csv_user"/>
        </record>

        <!-- profile.csv -->
        <record model="ir.ui.view" id="profile_csv_tree_view">
            <field name="model">profile.csv</field>
            <field name="type">tree</field>
            <field name="name">profile_csv_tree</field>
        </record>
        <record model="ir.ui.view" id="profile_csv_form_view">
            <field name="model">profile.csv</field>
            <field name="type">form</field>
            <field name="name">profile_csv_form</field>
        </record>

        <record model="ir.action.act_window" id="act_profile_csv">
            <field name="name">Import CSV Profiles</field>
            <field name="res_model">profile.csv</field>
        </record>
        <record model="ir.action.act_window.view" id="act_profile_csv_tree">
            <field name="sequence" eval="10"/>
            <field name="view" ref="profile_csv_tree_view"/>
            <field name="act_window" ref="act_profile_csv"/>
        </record>
        <record model="ir.action.act_window.view" id="act_profile_csv_form">
            <field name="sequence" eval="20"/>
            <field name="view" ref="profile_csv_form_view"/>
            <field name="act_window" ref="act_profile_csv"/>
        </record>
        <menuitem
            parent="main_menu_import_csv"
            action="act_profile_csv"
            id="menu_import_profile_csvs"
            sequence="10"/>

        <!-- profile.csv.column -->
        <record model="ir.ui.view" id="profile_csv_column_tree_view">
            <field name="model">profile.csv.column</field>
            <field name="type">tree</field>
            <field name="name">profile_csv_column_tree</field>
        </record>
        <record model="ir.ui.view" id="profile_csv_column_form_view">
            <field name="model">profile.csv.column</field>
            <field name="type">form</field>
            <field name="name">profile_csv_column_form</field>
        </record>

        <!-- import.csv.log -->
        <record model="ir.ui.view" id="import_csv_log_tree_view">
            <field name="model">import.csv.log</field>
            <field name="type">tree</field>
            <field name="priority" eval="30"/>
            <field name="name">import_csv_log_tree</field>
        </record>
        <record model="ir.ui.view" id="import_csv_log_form_view">
            <field name="model">import.csv.log</field>
            <field name="type">form</field>
            <field name="priority" eval="30"/>
            <field name="name">import_csv_log_form</field>
        </record>
        <record model="ir.action.act_window" id="act_imported_csv_logs">
            <field name="name">Import CSV Logs</field>
            <field name="res_model">import.csv.log</field>
            <field name="domain"
                eval="[('origin', '=', Eval('active_model'),Eval('active_id'))]"
                pyson="1"/>
        </record>
        <record model="ir.action.act_window" id="act_import_csv_logs">
            <field name="name">Import CSV Logs</field>
            <field name="res_model">import.csv.log</field>
            <field name="domain"></field>
        </record>
        <record model="ir.action.act_window.view" id="act_import_csv_logs_tree">
            <field name="sequence" eval="10"/>
            <field name="view" ref="import_csv_log_tree_view"/>
            <field name="act_window" ref="act_import_csv_logs"/>
        </record>
        <record model="ir.action.act_window.view" id="act_import_csv_logs_form">
            <field name="sequence" eval="10"/>
            <field name="view" ref="import_csv_log_form_view"/>
            <field name="act_window" ref="act_import_csv_logs"/>
        </record>
        <record model="ir.action.act_window.domain"
                id="act_import_csv_logs_roots">
            <field name="name">Parents</field>
            <field name="sequence" eval="10"/>
            <field name="domain"
                eval="[('parent', '=', None)]"
                pyson="1"/>
            <field name="act_window" ref="act_import_csv_logs"/>
        </record>
        <record model="ir.action.act_window.domain"
                id="act_import_csv_logs_all">
            <field name="name">Alls</field>
            <field name="sequence" eval="20"/>
            <field name="act_window" ref="act_import_csv_logs"/>
        </record>
        <record model="ir.action-res.group"
                id="act_imported_csv_logs-group_import_csv_user">
            <field name="action" ref="act_imported_csv_logs"/>
            <field name="group" ref="group_import_csv_user"/>
        </record>
        <menuitem
            parent="main_menu_import_csv"
            action="act_import_csv_logs"
            id="menu_import_import_csv"
            name="Logs"
            sequence="10"/>

        <!-- import csv start -->
        <record model="ir.ui.view" id="import_csv_start">
            <field name="model">import.csv.start</field>
            <field name="type">form</field>
            <field name="name">import_csv_start_view_form</field>
        </record>
        <record model="ir.action.wizard" id="act_import_csv">
            <field name="name">Import CSV</field>
            <field name="wiz_name">import.csv</field>
        </record>
        <menuitem
            name="Import CSV"
            parent="main_menu_import_csv"
            action="act_import_csv"
            id="menu_import_csv"
            sequence="10"/>
    </data>
</tryton>
    
